generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model area {
  id          Int          @id @unique(map: "id_UNIQUE") @default(autoincrement())
  user_id     Int
  name        String       @unique @db.VarChar(45)
  description String       @db.LongText
  created_at  DateTime?    @default(now()) @db.Timestamp(0)
  updated_at  DateTime?    @default(now()) @db.Timestamp(0)
  user        user         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_area_user1")
  area_video  area_video[]

  @@index([user_id], map: "fk_area_user1_idx")
}

model area_video {
  id         Int       @id @unique(map: "id_UNIQUE") @default(autoincrement())
  area_id    Int
  video_id   Int
  user_id    Int
  order      Int
  created_at DateTime? @default(now()) @db.Timestamp(0)
  updated_at DateTime? @default(now()) @db.Timestamp(0)
  area       area      @relation(fields: [area_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_area_video_area")
  user       user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_area_video_user1")
  video      video     @relation(fields: [video_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_area_video_video1")

  @@index([area_id], map: "fk_area_video_area_idx")
  @@index([user_id], map: "fk_area_video_user1_idx")
  @@index([video_id], map: "fk_area_video_video1_idx")
}

model form {
  id          Int       @id @unique(map: "id_UNIQUE") @default(autoincrement())
  user_id     Int
  title       String?   @db.VarChar(45)
  link        String?   @db.VarChar(45)
  description String?   @db.VarChar(45)
  changed_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)
  user        user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_form_user1")

  @@index([user_id], map: "fk_form_user1_idx")
}

model user {
  id         Int       @id @unique(map: "id_UNIQUE") @default(autoincrement())
  username   String       @unique(map: "username_UNIQUE") @db.VarChar(45)
  password   String       @unique(map: "password_UNIQUE") @db.VarChar(90)
  name       String       @db.VarChar(45)
  email      String       @unique(map: "email_UNIQUE") @db.VarChar(60)
  created_at DateTime?    @default(now()) @db.Timestamp(0)
  updated_at DateTime?    @default(now()) @db.Timestamp(0)
  area       area[]
  area_video area_video[]
  form       form[]
  video      video[]
}

model user_1 {
  username    String    @unique @db.VarChar(16)
  email       String?   @db.VarChar(255)
  password    String    @db.VarChar(32)
  create_time DateTime? @default(now()) @db.Timestamp(0)

  @@ignore
}

model video {
  id          Int          @id @unique(map: "id_UNIQUE") @default(autoincrement())
  user_id     Int
  name        String?      @db.VarChar(45)
  description String?      @db.LongText
  link        String?      @db.VarChar(150)
  created_at  DateTime?    @default(now()) @db.Timestamp(0)
  updated_at  DateTime?    @default(now()) @db.Timestamp(0)
  user        user         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_video_user1")
  area_video  area_video[]

  @@index([user_id], map: "fk_video_user1_idx")
}